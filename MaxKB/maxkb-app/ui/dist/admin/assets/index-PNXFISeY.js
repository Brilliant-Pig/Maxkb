import{_ as N}from"./KnowledgeListContainer.vue_vue_type_script_setup_true_lang-CyDg7U2k.js";import{ay as b,aP as S,aA as K,aO as h,aQ as T,aB as _,b6 as D,aD as d,aE as k,aF as l,aG as i,aH as w,aW as G,b2 as c,aJ as g,aI as y,bW as F}from"./admin-Ca7cl6NN.js";import"./BaseForm.vue_vue_type_script_setup_true_lang-D7_B8OVI.js";import"./SyncWebDialog-BRhvaG-V.js";import"./MoveToDialog-DXfoZkaM.js";import"./index.vue_vue_type_script_setup_true_lang-Dj2shVcI.js";import"./AIModeParamSettingDialog.vue_vue_type_script_setup_true_lang-CewLxAyU.js";import"./AuthorizedWorkspaceDialog.vue_vue_type_script_setup_true_lang-BJP0423Q.js";import"./permission-api-BDoWsP34.js";import"./workspace-CiflQXiK.js";const W={class:"p-12-16 pb-0 mt-12"},$={class:"p-8"},H={key:0},q=b({__name:"index",setup(O){const u=S(),{folder:r,knowledge:C}=K(),v=h(()=>u.path.includes("shared")?"systemShare":u.path.includes("resource-management")?"systemManage":"workspace"),L=h(()=>T.knowledge[v.value]),B=_(!1),n=_([]);function p(e){const o={};r.asyncGetFolder(F.KNOWLEDGE,o,B).then(a=>{var s;n.value=a.data,e&&r.setCurrentFolder(((s=a.data)==null?void 0:s[0])||{})})}function m(e){var o;e.id!==((o=r.currentFolder)==null?void 0:o.id)&&(r.setCurrentFolder(e),C.setKnowledgeList([]))}function f(){p()}return D(()=>{var e;p(!((e=r.currentFolder)!=null&&e.id))}),(e,o)=>{const a=d("folder-tree"),s=d("FolderBreadcrumb"),E=d("LayoutContainer");return l(),k(E,{showCollapse:"",class:"knowledge-manage"},{left:i(()=>{var t;return[y("h4",W,g(e.$t("views.knowledge.title")),1),y("div",$,[w(a,{source:c(F).KNOWLEDGE,data:n.value,currentNodeKey:(t=c(r).currentFolder)==null?void 0:t.id,onHandleNodeClick:m,shareTitle:e.$t("views.shared.shared_knowledge"),showShared:L.value.is_share(),onRefreshTree:f},null,8,["source","data","currentNodeKey","shareTitle","showShared"])])]}),default:i(()=>[w(N,{onRefreshFolder:f},{header:i(()=>{var t;return[((t=c(r).currentFolder)==null?void 0:t.id)==="share"?(l(),G("h2",H,g(e.$t("views.shared.shared_knowledge")),1)):(l(),k(s,{key:1,folderList:n.value,onClick:m},null,8,["folderList"]))]}),_:1})]),_:1})}}});export{q as default};
