import{ay as v,az as g,b8 as x,b7 as f,bf as m,aF as r,bn as i,cf as E,aI as d,aJ as y,ce as W,da as A,bW as _,bs as D,bg as R,bh as $,bt as B,aE as h,aA as L,aD as p,aH as u,bm as b,bX as w}from"./chat-CUfIjAsy.js";import{T as M,A as F}from"./index.vue_vue_type_script_setup_true_lang-Dl90RJGu.js";const N={class:"title"},P=v({__name:"MenuItem",props:{menu:{}},setup(l){const c=g(),o=x(),e=l,s=f(()=>{const{name:n,path:a,meta:t}=o;return n==e.menu.name&&a==e.menu.path||(t==null?void 0:t.activeMenu)==e.menu.path});return(n,a)=>{var t;return r(),m("div",{class:E(["menu-item-container h-full",s.value?"active":""]),onClick:a[0]||(a[0]=k=>i(c).push({name:l.menu.name}))},[d("div",N,y(n.$t((t=l.menu.meta)==null?void 0:t.title)),1)],2)}}}),S=W(P,[["__scopeId","data-v-b4f90672"]]),H={class:"top-menu-container flex align-center h-full"},O=v({__name:"index",setup(l){const c=f(()=>{const o=A("/","home").filter(e=>{var s;return((s=e.meta)==null?void 0:s.menu)&&(e.meta.permission?_(e.meta.permission,"OR"):!0)});return o.sort((e,s)=>(e.meta&&e.meta.order?e.meta.order:1)-(s.meta&&s.meta.order?s.meta.order:1)),o});return(o,e)=>{const s=D("hasPermission");return r(),m("div",H,[(r(!0),m(R,null,$(c.value,(n,a)=>{var t;return B((r(),h(S,{menu:n,key:a},null,8,["menu"])),[[s,(t=n.meta)==null?void 0:t.permission]])}),128))])}}}),U={class:"app-top-bar-container border-b flex-center"},V={class:"logo mt-4"},z={class:"flex-between w-full"},T={class:"ml-24 flex align-center w-120"},J=v({__name:"UserHeader",setup(l){const c=g(),o=x(),{user:e}=L(),s=f(()=>e.workspace_list.find(a=>a.id==e.workspace_id));function n(a){const{meta:{activeMenu:t}}=o;a.id!==e.workspace_id&&(e.setWorkspaceId(a.id||"default"),t.includes("application")&&o.path!="/application"?c.push("/application"):t.includes("knowledge")&&o.path!="/knowledge"?c.push("/knowledge"):window.location.reload())}return(a,t)=>{const k=p("LogoFull"),C=p("el-divider"),I=p("WorkspaceDropdown");return r(),m("div",U,[d("div",V,[u(k)]),d("div",z,[d("div",T,[i(_)(i(w).IS_EE,"OR")?(r(),h(C,{key:0,class:"mr-8",direction:"vertical"})):b("",!0),i(_)(i(w).IS_EE,"OR")?(r(),h(I,{key:1,data:i(e).workspace_list,currentWorkspace:s.value,onChangeWorkspace:n},null,8,["data","currentWorkspace"])):b("",!0)]),u(O),u(M,{class:"mr-12"})]),u(F)])}}}),q=W(J,[["__scopeId","data-v-b0a49e09"]]);export{q as U};
