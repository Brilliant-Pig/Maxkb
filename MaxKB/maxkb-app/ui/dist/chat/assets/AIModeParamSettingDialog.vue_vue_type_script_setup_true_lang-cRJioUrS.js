import{ay as M,b7 as g,b8 as S,aB as l,b9 as x,aE as A,aG as u,aD as y,aH as m,ba as I,aI as N,aK as b,aJ as V,bb as R,bc as T,aF as P}from"./chat-CUfIjAsy.js";const U={class:"dialog-footer"},G=M({__name:"AIModeParamSettingDialog",emits:["refresh"],setup(q,{expose:h,emit:k}){const w=S(),c=g(()=>w.path.includes("resource-management")?"systemManage":"workspace"),d=l([]),f=k,p=l(),s=l({}),n=l(!1),v=l(!1),_=(e,a)=>T({type:"model",systemType:c.value}).getModelParamsForm(e,v),C=l("");g(()=>x.model[c.value]);const $=(e,a,r)=>{C.value=e,s.value={},_(e).then(t=>{var o;d.value=t.data,(o=p.value)==null||o.render(d.value,r)}),n.value=!0},B=(e,a)=>{_(e).then(i=>{d.value=i.data;const t=i.data.map(o=>o.show_default_value===!1?{[o.field]:void 0}:{[o.field]:o.default_value}).reduce((o,F)=>({...o,...F}),{});f("refresh",t)})},D=async()=>{var e;(e=p.value)==null||e.validate().then(()=>{f("refresh",s.value),n.value=!1})};return h({open:$,reset_default:B}),(e,a)=>{const r=y("el-button"),i=y("el-dialog");return P(),A(i,{"align-center":"",title:e.$t("common.paramSetting"),modelValue:n.value,"onUpdate:modelValue":a[2]||(a[2]=t=>n.value=t),style:{width:"550px"},"append-to-body":"","destroy-on-close":"","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:u(()=>[N("span",U,[m(r,{onClick:a[1]||(a[1]=R(t=>n.value=!1,["prevent"]))},{default:u(()=>[b(V(e.$t("common.cancel")),1)]),_:1}),m(r,{type:"primary",onClick:D,loading:v.value},{default:u(()=>[b(V(e.$t("common.confirm")),1)]),_:1},8,["loading"])])]),default:u(()=>[m(I,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=t=>s.value=t),model:s.value,"label-position":"top","require-asterisk-position":"right",render_data:d.value,ref_key:"dynamicsFormRef",ref:p},null,8,["modelValue","model","render_data"])]),_:1},8,["title","modelValue"])}}});export{G as _};
