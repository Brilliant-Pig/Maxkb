import{ay as K,aP as N,aO as B,aB as k,aU as O,aC as e,aE as d,aG as c,aT as E,c1 as X,aD as p,b1 as w,aI as s,aW as I,aH as u,aJ as i,aY as $,aX as Q,b2 as z,ci as le,aK as r,aF as n,b3 as j,aQ as ce,b6 as se}from"./admin-Ca7cl6NN.js";const oe={class:"flex align-center",style:{"margin-left":"-8px"}},ne={class:"title-decoration-1 mb-16"},pe={key:0,class:"flex align-center mb-16"},re={class:"lighter mr-8"},de={class:"title-decoration-1 mb-16"},ue={class:"color-primary",href:"https://mp.weixin.qq.com/advanced/advanced?action=dev&t=advanced/dev",target:"_blank"},ge={class:"color-primary",href:"https://open-dev.dingtalk.com/fe/app?hash=%23%2Fcorp%2Fapp#/corp/app",target:"_blank"},we={class:"color-primary",href:"https://work.weixin.qq.com/wework_admin/frame#apps",target:"_blank"},me={class:"primary",href:"https://open.feishu.cn/app/",target:"_blank"},ve={class:"color-primary",href:"https://work.weixin.qq.com/wework_admin/frame#/manageTools",target:"_blank"},he=K({__name:"AccessSettingDrawer",emits:["refresh"],setup(Y,{expose:F,emit:C}){const S=N(),{params:{id:T}}=S,U=B(()=>S.path.includes("resource-management")?"systemManage":"workspace"),q=C,m=k(),A=k(!1),f=k(!1),b=k(!1),t=k("wechat"),l=O({wechat:{app_id:"",app_secret:"",token:"",encoding_aes_key:"",is_certification:!1,callback_url:""},dingtalk:{client_id:"",client_secret:"",callback_url:""},wecom:{app_id:"",agent_id:"",secret:"",token:"",encoding_aes_key:"",callback_url:""},lark:{app_id:"",app_secret:"",verification_token:"",callback_url:""},slack:{signing_secret:"",bot_user_token:"",callback_url:""},wecomBot:{token:"",encoding_aes_key:"",callback_url:""}}),v=O({wechat:{app_id:[{required:!0,message:e("views.application.applicationAccess.wechatSetting.appIdPlaceholder"),trigger:"blur"}],app_secret:[{required:!0,message:e("views.application.applicationAccess.wechatSetting.appSecretPlaceholder"),trigger:"blur"}],token:[{required:!0,message:e("views.application.applicationAccess.wechatSetting.tokenPlaceholder"),trigger:"blur"}],encoding_aes_key:[{required:!0,message:e("views.application.applicationAccess.wechatSetting.aesKeyPlaceholder"),trigger:"blur"}]},dingtalk:{client_id:[{required:!0,message:e("views.application.applicationAccess.dingtalkSetting.clientIdPlaceholder"),trigger:"blur"}],client_secret:[{required:!0,message:e("views.application.applicationAccess.dingtalkSetting.clientSecretPlaceholder"),trigger:"blur"}]},wecom:{app_id:[{required:!0,message:e("views.application.applicationAccess.wecomSetting.cropIdPlaceholder"),trigger:"blur"}],agent_id:[{required:!0,message:e("views.application.applicationAccess.wecomSetting.agentIdPlaceholder"),trigger:"blur"}],secret:[{required:!0,message:e("views.application.applicationAccess.wecomSetting.secretPlaceholder"),trigger:"blur"}],token:[{required:!0,message:e("views.application.applicationAccess.wecomSetting.tokenPlaceholder"),trigger:"blur"}],encoding_aes_key:[{required:!0,message:e("views.application.applicationAccess.wecomSetting.encodingAesKeyPlaceholder"),trigger:"blur"}]},lark:{app_id:[{required:!0,message:e("views.application.applicationAccess.larkSetting.appIdPlaceholder"),trigger:"blur"}],app_secret:[{required:!0,message:e("views.application.applicationAccess.larkSetting.appSecretPlaceholder"),trigger:"blur"}],verification_token:[{required:!1,message:e("views.application.applicationAccess.larkSetting.verificationTokenPlaceholder"),trigger:"blur"}]},slack:{signing_secret:[{required:!0,message:e("views.application.applicationAccess.slackSetting.signingSecretPlaceholder"),trigger:"blur"}],bot_user_token:[{required:!0,message:e("views.application.applicationAccess.slackSetting.botUserTokenPlaceholder"),trigger:"blur"}]},wecomBot:{token:[{required:!0,message:e("views.application.applicationAccess.wecomSetting.tokenPlaceholder"),trigger:"blur"}],encoding_aes_key:[{required:!0,message:e("views.application.applicationAccess.wecomSetting.encodingAesKeyPlaceholder"),trigger:"blur"}]}}),y={wechat:{app_id:{label:e("views.application.applicationAccess.wechatSetting.appId"),placeholder:""},app_secret:{label:e("views.application.applicationAccess.wechatSetting.appSecret"),placeholder:""},token:{label:e("views.application.applicationAccess.wechatSetting.token"),placeholder:""},encoding_aes_key:{label:e("views.application.applicationAccess.wechatSetting.aesKey"),placeholder:""}},dingtalk:{client_id:{label:"Client ID",placeholder:""},client_secret:{label:"Client Secret",placeholder:""}},wecom:{app_id:{label:e("views.application.applicationAccess.wecomSetting.cropId"),placeholder:""},agent_id:{label:"Agent ID",placeholder:""},secret:{label:"Secret",placeholder:""},token:{label:"Token",placeholder:""},encoding_aes_key:{label:"EncodingAESKey",placeholder:""}},wecomBot:{token:{label:"Token",placeholder:""},encoding_aes_key:{label:"EncodingAESKey",placeholder:""}},lark:{app_id:{label:"App ID",placeholder:""},app_secret:{label:"App Secret",placeholder:""},verification_token:{label:"Verification Token",placeholder:""}},slack:{signing_secret:{label:"Signing Secret",placeholder:""},bot_user_token:{label:"Bot User Token",placeholder:""}}},L=new Set(["app_secret","client_secret","secret","bot_user_token","signing_secret"]),M=B(()=>({wechat:e("views.application.applicationAccess.wechatSetting.title"),dingtalk:e("views.application.applicationAccess.dingtalkSetting.title"),wecom:e("views.application.applicationAccess.wecomSetting.title"),lark:e("views.application.applicationAccess.larkSetting.title"),slack:e("views.application.applicationAccess.slackSetting.title"),wecomBot:e("views.application.applicationAccess.wecomBotSetting.title")})[t.value]),G=B(()=>({wechat:e("views.applicationOverview.appInfo.header"),dingtalk:e("views.applicationOverview.appInfo.header"),wecom:e("views.applicationOverview.appInfo.header"),lark:e("views.applicationOverview.appInfo.header"),slack:e("views.applicationOverview.appInfo.header"),wecomBot:e("views.applicationOverview.appInfo.header")})[t.value]),W=O(Object.keys(y[t.value]).reduce((a,o)=>(L.has(o)&&(a[o]=!1),a),{})),R=a=>L.has(a),H=()=>{A.value=!1},g=async()=>{var a;f.value||(a=m.value)==null||a.validate(async o=>{if(o)try{E({type:"application",systemType:U.value}).updatePlatformConfig(T,t.value,l[t.value],f).then(()=>{j(e("common.saveSuccess")),H(),q("refresh")})}catch{X(e("views.application.tip.saveErrorMessage"))}})};return F({open:async(a,o)=>{var P;A.value=!0,t.value=o,f.value=!0,b.value=!1,(P=m.value)==null||P.resetFields();try{const x=await E({type:"application",systemType:U.value}).getPlatformConfig(a,o);x.data&&(l[t.value]=x.data),b.value=!0}catch{X(e("views.application.tip.loadingErrorMessage"))}finally{f.value=!1,l[t.value].callback_url=`${window.location.origin}${window.MaxKB.prefix}/api/chat/${o}/${a}`}}}),(a,o)=>{const P=p("el-input"),x=p("el-form-item"),J=p("el-switch"),ee=p("AppIcon"),D=p("el-button"),V=p("el-text"),ae=p("el-form"),te=p("el-drawer");return n(),d(te,{modelValue:A.value,"onUpdate:modelValue":o[3]||(o[3]=h=>A.value=h),size:"60%","append-to-body":!0},{header:c(()=>[s("div",oe,[s("h4",null,i(M.value),1)])]),footer:c(()=>[s("div",null,[u(D,{onClick:H},{default:c(()=>[r(i(a.$t("common.cancel")),1)]),_:1}),u(D,{type:"primary",onClick:g,disabled:f.value},{default:c(()=>[r(i(a.$t("common.save")),1)]),_:1},8,["disabled"])])]),default:c(()=>[b.value?(n(),d(ae,{key:0,ref_key:"formRef",ref:m,model:l[t.value],"label-width":"120px",rules:v[t.value],"label-position":"top","require-asterisk-position":"right"},{default:c(()=>[s("h4",ne,i(G.value),1),(n(!0),I(Q,null,$(y[t.value],(h,_)=>(n(),d(x,{key:_,label:h.label,prop:_},{default:c(()=>[u(P,{modelValue:l[t.value][_],"onUpdate:modelValue":ie=>l[t.value][_]=ie,type:R(_)?W[_]?"text":"password":"text",placeholder:h.placeholder,"show-password":R(_)},null,8,["modelValue","onUpdate:modelValue","type","placeholder","show-password"])]),_:2},1032,["label","prop"]))),128)),t.value==="wechat"?(n(),I("div",pe,[s("span",re,i(a.$t("views.application.applicationAccess.wecomSetting.authenticationSuccessful")),1),t.value==="wechat"?(n(),d(J,{key:0,modelValue:l[t.value].is_certification,"onUpdate:modelValue":o[0]||(o[0]=h=>l[t.value].is_certification=h)},null,8,["modelValue"])):w("",!0)])):w("",!0),s("h4",de,i(a.$t("views.application.applicationAccess.callback")),1),u(x,{label:"URL",prop:"callback_url"},{default:c(()=>[u(P,{modelValue:l[t.value].callback_url,"onUpdate:modelValue":o[2]||(o[2]=h=>l[t.value].callback_url=h),placeholder:a.$t("views.application.applicationAccess.callbackTip"),readonly:""},{append:c(()=>[u(D,{onClick:o[1]||(o[1]=h=>z(le)(l[t.value].callback_url))},{default:c(()=>[u(ee,{iconName:"app-copy"})]),_:1})]),_:1},8,["modelValue","placeholder"]),t.value==="wechat"?(n(),d(V,{key:0,type:"info"},{default:c(()=>[r(i(a.$t("views.application.applicationAccess.copyUrl"))+" ",1),s("a",ue,i(a.$t("views.application.applicationAccess.wechatPlatform")),1),r(i(a.$t("views.application.applicationAccess.wechatSetting.urlInfo")),1)]),_:1})):w("",!0),t.value==="dingtalk"?(n(),d(V,{key:1,type:"info"},{default:c(()=>[r(i(a.$t("views.application.applicationAccess.copyUrl"))+" ",1),s("a",ge,i(a.$t("views.application.applicationAccess.dingtalkPlatform")),1),r(i(a.$t("views.application.applicationAccess.dingtalkSetting.urlInfo")),1)]),_:1})):w("",!0),t.value==="wecom"?(n(),d(V,{key:2,type:"info"},{default:c(()=>[r(i(a.$t("views.application.applicationAccess.copyUrl"))+" ",1),s("a",we,i(a.$t("views.application.applicationAccess.wecomPlatform")),1),r(i(a.$t("views.application.applicationAccess.wecomSetting.urlInfo")),1)]),_:1})):w("",!0),t.value==="lark"?(n(),d(V,{key:3,type:"info"},{default:c(()=>[r(i(a.$t("views.application.applicationAccess.copyUrl"))+" ",1),s("a",me,i(a.$t("views.application.applicationAccess.larkPlatform")),1),r(i(a.$t("views.application.applicationAccess.larkSetting.urlInfo")),1)]),_:1})):w("",!0),t.value==="wecomBot"?(n(),d(V,{key:4,type:"info"},{default:c(()=>[r(i(a.$t("views.application.applicationAccess.copyUrl"))+" ",1),s("a",ve,i(a.$t("views.application.applicationAccess.wecomPlatform")),1),r(i(a.$t("views.application.applicationAccess.wecomBotSetting.urlInfo")),1)]),_:1})):w("",!0)]),_:1})]),_:1},8,["model","rules"])):w("",!0)]),_:1},8,["modelValue"])}}}),fe={class:"p-16-24"},_e={class:"mb-16"},ke={class:"flex-between"},Ae={class:"flex align-center ml-8 mr-8"},be=["src"],ye={class:"ml-12"},Ce={class:"mb-4"},Ue=K({__name:"ApplicationAccess",setup(Y){const F=N(),C=B(()=>F.path.includes("resource-management")?"systemManage":"workspace"),S=B(()=>ce.application[C.value]),T=O([{key:"wecomBot",logoSrc:new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20width='40'%20height='40'%20viewBox='0%200%20180%20180'%20enable-background='new%200%200%20180%20180'%20xml:space='preserve'%3e%3cimage%20id='image0'%20width='180'%20height='180'%20x='0'%20y='0'%20href='data:image/png;base64,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'%3e%3c/image%3e%3c/svg%3e",import.meta.url).href,name:e("views.application.applicationAccess.wecomBot"),description:e("views.application.applicationAccess.wecomBotTip"),isActive:!1,exists:!1},{key:"wecom",logoSrc:new URL(""+new URL("logo_wechat-work-B6gndCCA.svg",import.meta.url).href,import.meta.url).href,name:e("views.application.applicationAccess.wecom"),description:e("views.application.applicationAccess.wecomTip"),isActive:!1,exists:!1},{key:"dingtalk",logoSrc:new URL("data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M32.7371%2016.6285C32.6394%2016.9833%2032.5125%2017.3284%2032.3563%2017.6604H32.3595L32.34%2017.7027C31.23%2020.1961%2028.3297%2025.0917%2028.3297%2025.0917L28.3167%2025.0591L27.4704%2026.6085H31.5523L23.7531%2037.5L25.5239%2030.0915H22.3079L23.4244%2025.1926C22.5195%2025.4205%2021.455%2025.7362%2020.1888%2026.1626C20.1888%2026.1626%2018.4799%2027.214%2015.2607%2024.138C15.2607%2024.138%2013.0895%2022.1328%2014.3492%2021.6283C14.8831%2021.4167%2016.9468%2021.1466%2018.5711%2020.9122C20.7617%2020.5997%2022.1126%2020.4337%2022.1126%2020.4337C22.1126%2020.4337%2015.3518%2020.5411%2013.7471%2020.2742C12.1423%2020.0105%2010.1112%2017.1982%209.67497%2014.7276C9.67497%2014.7276%209.00443%2013.3702%2011.1137%2014.0115C13.2262%2014.6527%2021.9661%2016.5113%2021.9661%2016.5113C21.9661%2016.5113%2010.6027%2012.8559%209.84749%2011.964C9.09232%2011.0721%207.62103%207.08794%207.81308%204.64339C7.81308%204.64339%207.89771%204.03144%208.49339%204.19419C8.49339%204.19419%2016.898%208.23047%2022.6431%2010.4341C28.3883%2012.6443%2033.3816%2013.7706%2032.7371%2016.6285Z'%20fill='%233296FA'/%3e%3c/svg%3e",import.meta.url).href,name:e("views.application.applicationAccess.dingtalk"),description:e("views.application.applicationAccess.dingtalkTip"),isActive:!1,exists:!1},{key:"wechat",logoSrc:new URL("data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M26.4855%2013.974C26.9025%2013.974%2027.3196%2014.0125%2027.7345%2014.0489C26.6184%208.86961%2021.0198%205%2014.6421%205C7.51045%205.02502%201.66672%209.84509%201.66672%2015.9656C1.66672%2019.4941%203.61468%2022.4043%206.85045%2024.6575L5.54437%2028.5227L10.0863%2026.2719C11.7134%2026.5901%2013.0196%2026.9084%2014.6261%2026.9084C15.0432%2026.9084%2015.4397%2026.8902%2015.8361%2026.8538C15.5785%2025.9748%2015.4451%2025.0642%2015.4397%2024.1483C15.4581%2018.537%2020.3208%2013.9762%2026.4878%2013.9762L26.4855%2013.974H26.4855ZM19.5051%2010.4862C20.4905%2010.4862%2021.1321%2011.1228%2021.1321%2012.1004C21.1321%2013.0553%2020.4905%2013.7147%2019.5051%2013.7147C18.5402%2013.7147%2017.5571%2013.0759%2017.5571%2012.1003C17.5571%2011.1228%2018.5402%2010.4862%2019.5051%2010.4862ZM10.4231%2013.7147C9.46072%2013.7147%208.47535%2013.0759%208.47535%2012.1003C8.47535%2011.1228%209.46072%2010.4862%2010.4231%2010.4862C11.388%2010.4862%2012.0503%2011.1228%2012.0503%2012.1004C12.0503%2013.0553%2011.4086%2013.7147%2010.4231%2013.7147ZM38.3334%2024.0141C38.3334%2018.8712%2033.1497%2014.6674%2027.3012%2014.6674C21.1343%2014.6674%2016.2714%2018.8712%2016.2714%2024.0141C16.2714%2029.1752%2021.1343%2033.3631%2027.3012%2033.3631C28.5892%2033.3631%2029.8953%2033.0448%2031.1994%2032.7243L34.756%2034.6568L33.7729%2031.4464C36.3854%2029.4776%2038.3334%2026.9038%2038.3334%2024.0141ZM23.7262%2022.3997C23.0846%2022.3997%2022.42%2021.7632%2022.42%2021.1039C22.42%2020.4673%2023.0846%2019.808%2023.7262%2019.808C24.7116%2019.808%2025.3534%2020.4469%2025.3534%2021.1039C25.3534%2021.7632%2024.7116%2022.3997%2023.7262%2022.3997ZM30.8602%2022.3997C30.2163%2022.3997%2029.5722%2021.7632%2029.5722%2021.1039C29.5722%2020.4673%2030.214%2019.808%2030.8602%2019.808C31.8433%2019.808%2032.4872%2020.4469%2032.4872%2021.1039C32.4872%2021.7632%2031.8433%2022.3997%2030.8602%2022.3997Z'%20fill='%2309BB07'/%3e%3c/svg%3e",import.meta.url).href,name:e("views.application.applicationAccess.wechat"),description:e("views.application.applicationAccess.wechatTip"),isActive:!1,exists:!1},{key:"lark",logoSrc:new URL(""+new URL("logo_lark-ClwkcAp-.svg",import.meta.url).href,import.meta.url).href,name:e("views.application.applicationAccess.lark"),description:e("views.application.applicationAccess.larkTip"),isActive:!1,exists:!1},{key:"slack",logoSrc:new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='40'%20height='40'%20viewBox='0%200%20128%20128'%3e%3cpath%20fill='%23de1c59'%20d='M27.255%2080.719c0%207.33-5.978%2013.317-13.309%2013.317S.63%2088.049.63%2080.719s5.987-13.317%2013.317-13.317h13.309zm6.709%200c0-7.33%205.987-13.317%2013.317-13.317s13.317%205.986%2013.317%2013.317v33.335c0%207.33-5.986%2013.317-13.317%2013.317c-7.33%200-13.317-5.987-13.317-13.317zm0%200'/%3e%3cpath%20fill='%2335c5f0'%20d='M47.281%2027.255c-7.33%200-13.317-5.978-13.317-13.309S39.951.63%2047.281.63s13.317%205.987%2013.317%2013.317v13.309zm0%206.709c7.33%200%2013.317%205.987%2013.317%2013.317s-5.986%2013.317-13.317%2013.317H13.946C6.616%2060.598.63%2054.612.63%2047.281c0-7.33%205.987-13.317%2013.317-13.317zm0%200'/%3e%3cpath%20fill='%232eb57d'%20d='M100.745%2047.281c0-7.33%205.978-13.317%2013.309-13.317s13.317%205.987%2013.317%2013.317s-5.987%2013.317-13.317%2013.317h-13.309zm-6.709%200c0%207.33-5.987%2013.317-13.317%2013.317s-13.317-5.986-13.317-13.317V13.946C67.402%206.616%2073.388.63%2080.719.63c7.33%200%2013.317%205.987%2013.317%2013.317zm0%200'/%3e%3cpath%20fill='%23ebb02e'%20d='M80.719%20100.745c7.33%200%2013.317%205.978%2013.317%2013.309s-5.987%2013.317-13.317%2013.317s-13.317-5.987-13.317-13.317v-13.309zm0-6.709c-7.33%200-13.317-5.987-13.317-13.317s5.986-13.317%2013.317-13.317h33.335c7.33%200%2013.317%205.986%2013.317%2013.317c0%207.33-5.987%2013.317-13.317%2013.317zm0%200'/%3e%3c/svg%3e",import.meta.url).href,name:e("views.application.applicationAccess.slack"),description:e("views.application.applicationAccess.slackTip"),isActive:!1,exists:!1}]),U=k(),q=k(!1),{params:{id:m}}=F;function A(l){U.value.open(m,l)}function f(){b()}function b(){q.value=!0,E({type:"application",systemType:C.value}).getPlatformStatus(m).then(l=>{T.forEach(v=>{v.isActive=l.data[v.key][1],v.exists=l.data[v.key][0]}),q.value=!1})}function t(l,v){const y={type:l,status:v};E({type:"application",systemType:C.value}).updatePlatformStatus(m,y).then(()=>{j(e("common.saveSuccess"))})}return se(()=>{b()}),(l,v)=>{const y=p("el-text"),L=p("el-switch"),M=p("el-divider"),G=p("el-button"),W=p("el-card"),R=p("el-col"),H=p("el-row");return n(),I("div",fe,[s("h4",_e,i(l.$t("views.application.applicationAccess.title")),1),u(H,{gutter:16},{default:c(()=>[(n(!0),I(Q,null,$(T,(g,Z)=>(n(),d(R,{xs:24,sm:24,md:12,lg:12,xl:12,class:"mb-16",key:Z},{default:c(()=>[u(W,{shadow:"hover",class:"border-none cursor"},{default:c(()=>[s("div",ke,[s("div",Ae,[s("img",{src:g.logoSrc,alt:"",class:"icon"},null,8,be),s("div",ye,[s("h5",Ce,i(g.name),1),u(y,{type:"info",style:{"font-size":"12px"}},{default:c(()=>[r(i(g.description),1)]),_:2},1024)])]),s("div",null,[S.value.access_edit(z(m))?(n(),d(L,{key:0,size:"small",modelValue:g.isActive,"onUpdate:modelValue":a=>g.isActive=a,onChange:a=>t(g.key,g.isActive),disabled:!g.exists},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"])):w("",!0),u(M,{direction:"vertical"}),S.value.access_edit(z(m))?(n(),d(G,{key:1,class:"mr-4",onClick:a=>A(g.key)},{default:c(()=>[r(i(l.$t("views.application.applicationAccess.setting")),1)]),_:1},8,["onClick"])):w("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),u(he,{ref_key:"AccessSettingDrawerRef",ref:U,onRefresh:f},null,512)])}}});export{Ue as default};
