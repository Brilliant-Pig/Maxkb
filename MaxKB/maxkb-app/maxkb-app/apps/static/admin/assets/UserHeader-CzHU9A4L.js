import{ay as v,az as b,aP as x,aO as f,aW as m,aF as r,b2 as i,ce as E,aI as d,aJ as y,cf as W,da as A,bG as _,b7 as D,aX as R,aY as $,b8 as B,aE as h,aA as L,aD as p,aH as u,b1 as w,bH as g}from"./admin-Ca7cl6NN.js";import{T as M,A as P}from"./index.vue_vue_type_script_setup_true_lang-C93c2qpX.js";const F={class:"title"},H=v({__name:"MenuItem",props:{menu:{}},setup(l){const c=b(),o=x(),e=l,s=f(()=>{const{name:n,path:a,meta:t}=o;return n==e.menu.name&&a==e.menu.path||(t==null?void 0:t.activeMenu)==e.menu.path});return(n,a)=>{var t;return r(),m("div",{class:E(["menu-item-container h-full",s.value?"active":""]),onClick:a[0]||(a[0]=k=>i(c).push({name:l.menu.name}))},[d("div",F,y(n.$t((t=l.menu.meta)==null?void 0:t.title)),1)],2)}}}),N=W(H,[["__scopeId","data-v-b4f90672"]]),O={class:"top-menu-container flex align-center h-full"},S=v({__name:"index",setup(l){const c=f(()=>{const o=A("/","home").filter(e=>{var s;return((s=e.meta)==null?void 0:s.menu)&&(e.meta.permission?_(e.meta.permission,"OR"):!0)});return o.sort((e,s)=>(e.meta&&e.meta.order?e.meta.order:1)-(s.meta&&s.meta.order?s.meta.order:1)),o});return(o,e)=>{const s=D("hasPermission");return r(),m("div",O,[(r(!0),m(R,null,$(c.value,(n,a)=>{var t;return B((r(),h(N,{menu:n,key:a},null,8,["menu"])),[[s,(t=n.meta)==null?void 0:t.permission]])}),128))])}}}),U={class:"app-top-bar-container border-b flex-center"},V={class:"logo mt-4"},z={class:"flex-between w-full"},T={class:"ml-24 flex align-center w-120"},G=v({__name:"UserHeader",setup(l){const c=b(),o=x(),{user:e}=L(),s=f(()=>e.workspace_list.find(a=>a.id==e.workspace_id));function n(a){const{meta:{activeMenu:t}}=o;a.id!==e.workspace_id&&(e.setWorkspaceId(a.id||"default"),t.includes("application")&&o.path!="/application"?c.push("/application"):t.includes("knowledge")&&o.path!="/knowledge"?c.push("/knowledge"):window.location.reload())}return(a,t)=>{const k=p("LogoFull"),C=p("el-divider"),I=p("WorkspaceDropdown");return r(),m("div",U,[d("div",V,[u(k)]),d("div",z,[d("div",T,[i(_)(i(g).IS_EE,"OR")?(r(),h(C,{key:0,class:"mr-8",direction:"vertical"})):w("",!0),i(_)(i(g).IS_EE,"OR")?(r(),h(I,{key:1,data:i(e).workspace_list,currentWorkspace:s.value,onChangeWorkspace:n},null,8,["data","currentWorkspace"])):w("",!0)]),u(S),u(M,{class:"mr-12"})]),u(P)])}}}),Y=W(G,[["__scopeId","data-v-b0a49e09"]]);export{Y as U};
