import{_ as E}from"./KnowledgeListContainer.vue_vue_type_script_setup_true_lang-CQeIPv4i.js";import{ay as N,b8 as S,aA as K,b7 as h,b9 as T,aB as _,br as D,aD as d,aE as k,aF as l,aG as i,aH as w,bf as G,bn as c,aJ as g,aI as y,c0 as F}from"./chat-CUfIjAsy.js";import"./BaseForm.vue_vue_type_script_setup_true_lang-DJo6VgV9.js";import"./SyncWebDialog-Dv3UrGcF.js";import"./MoveToDialog-C_KK_pzs.js";import"./index.vue_vue_type_script_setup_true_lang-CvygeC7o.js";import"./AIModeParamSettingDialog.vue_vue_type_script_setup_true_lang-cRJioUrS.js";import"./AuthorizedWorkspaceDialog.vue_vue_type_script_setup_true_lang-B6sPufen.js";import"./permission-api-DyNdOx42.js";import"./workspace-Cv2gXV-V.js";const $={class:"p-12-16 pb-0 mt-12"},H={class:"p-8"},R={key:0},z=N({__name:"index",setup(M){const u=S(),{folder:r,knowledge:C}=K(),v=h(()=>u.path.includes("shared")?"systemShare":u.path.includes("resource-management")?"systemManage":"workspace"),b=h(()=>T.knowledge[v.value]),L=_(!1),n=_([]);function p(e){const o={};r.asyncGetFolder(F.KNOWLEDGE,o,L).then(s=>{var a;n.value=s.data,e&&r.setCurrentFolder(((a=s.data)==null?void 0:a[0])||{})})}function m(e){var o;e.id!==((o=r.currentFolder)==null?void 0:o.id)&&(r.setCurrentFolder(e),C.setKnowledgeList([]))}function f(){p()}return D(()=>{var e;p(!((e=r.currentFolder)!=null&&e.id))}),(e,o)=>{const s=d("folder-tree"),a=d("FolderBreadcrumb"),B=d("LayoutContainer");return l(),k(B,{showCollapse:"",class:"knowledge-manage"},{left:i(()=>{var t;return[y("h4",$,g(e.$t("views.knowledge.title")),1),y("div",H,[w(s,{source:c(F).KNOWLEDGE,data:n.value,currentNodeKey:(t=c(r).currentFolder)==null?void 0:t.id,onHandleNodeClick:m,shareTitle:e.$t("views.shared.shared_knowledge"),showShared:b.value.is_share(),onRefreshTree:f},null,8,["source","data","currentNodeKey","shareTitle","showShared"])])]}),default:i(()=>[w(E,{onRefreshFolder:f},{header:i(()=>{var t;return[((t=c(r).currentFolder)==null?void 0:t.id)==="share"?(l(),G("h2",R,g(e.$t("views.shared.shared_knowledge")),1)):(l(),k(a,{key:1,folderList:n.value,onClick:m},null,8,["folderList"]))]}),_:1})]),_:1})}}});export{z as default};
